# Анализ проблем и требуемых изменений в TestApp GUI

## Проблема с мониторингом при адресе 0x800000000

При анализе исходного кода программы TestApp GUI были выявлены следующие проблемы, которые могут приводить к неработоспособности мониторинга при использовании адреса 0x800000000:

1. **Ограничение формата адреса PCIe**:
   ```c
   // Проверка формата адреса
   if (strlen(addr_text) != 10 || strncmp(addr_text, "0x", 2) != 0) {
       update_status_bar("Ошибка: Неверный формат адреса PCIe. Используйте формат 0xA0000000");
       return;
   }
   ```
   Текущая проверка ожидает адрес длиной ровно 10 символов (включая "0x"), что не позволяет использовать адрес 0x800000000, который имеет 11 символов.

2. **Использование 32-битного типа для адреса PCIe**:
   ```c
   // Глобальные переменные
   uint32_t pcie_addr = 0;
   
   // Преобразование адреса
   pcie_addr = (uint32_t)strtol(addr_text, NULL, 0);
   ```
   Использование типа `uint32_t` для хранения адреса PCIe ограничивает максимальное значение адреса до 0xFFFFFFFF, что недостаточно для адреса 0x800000000.

3. **Использование 32-битного типа в функции mmap**:
   ```c
   pcie_base = mmap(0, mapped_size, PROT_READ|PROT_WRITE, MAP_SHARED, fd, pcie_addr & ~(off_t)(page_size - 1));
   ```
   Хотя здесь используется приведение к типу `off_t`, который может быть 64-битным, сам `pcie_addr` уже ограничен 32 битами.

## Требуемые изменения для поддержки адреса 0x800000000

1. Изменить тип переменной `pcie_addr` с `uint32_t` на `uint64_t`.
2. Изменить функцию проверки формата адреса, чтобы она поддерживала адреса длиной до 18 символов (включая "0x").
3. Изменить функцию преобразования адреса, используя `strtoull` вместо `strtol`.
4. Обновить все функции, которые работают с адресом PCIe, для поддержки 64-битных адресов.

## Переименование программы в TEST IP FPGA

Для переименования программы необходимо внести следующие изменения:

1. Изменить заголовок окна в функции `gtk_window_set_title`.
2. Обновить название в файле `.desktop`.
3. Обновить название в файлах документации.
4. Обновить название в файлах сборки и установки.

## Добавление функционала для чтения содержимого ядер

На основе изучения документации Universal Configuration Manager, для добавления функционала чтения содержимого ядер необходимо:

1. Добавить новую вкладку или окно для выбора ядра и чтения его конфигурации.
2. Реализовать функции для чтения регистров конфигурации выбранного ядра.
3. Добавить интерфейс для отображения прочитанных значений.
4. Добавить возможность сохранения и загрузки конфигурации ядер.

Основные компоненты, которые нужно реализовать:
- Выпадающий список для выбора ядра
- Кнопки "Прочитать конфигурацию" и "Записать конфигурацию"
- Таблица для отображения регистров и их значений
- Функции для автоматического обновления данных

Эти изменения позволят пользователю выбирать ядро, читать его конфигурацию, изменять значения регистров и записывать изменения обратно в ядро.

